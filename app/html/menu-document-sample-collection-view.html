<div class="page-wrapper">
  <div class="page-breadcrumb">
    <div class="row">
      <div class="col-12 d-flex no-block align-items-center">
        <h4 class="page-title">Product Details - Document &amp; Sample Collection</h4>
        <div class="ms-auto text-end">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active" aria-current="page">
                Document &amp; Sample Collection
              </li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div class="card">
          <!-- Nav tabs -->
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item" style="background-color: #2c3136; color: #ffffff;">
              <a class="nav-link active" data-bs-toggle="tab" href="#subStep1" role="tab" aria-selected="false"><span class="hidden-sm-up"></span>
                <span class="hidden-xs-down" id="spnSubStep1">Documentation Collection</span></a>
            </li>
            <li class="nav-item" style="background-color: #2c3136; color: #ffffff;">
              <a class="nav-link" data-bs-toggle="tab" href="#subStep2" role="tab" aria-selected="false"><span class="hidden-sm-up"></span>
                <span class="hidden-xs-down" id="spnSubStep2">Documentation Validation</span></a>
            </li>
            <li class="nav-item" style="background-color: #2c3136; color: #ffffff;">
              <a class="nav-link" data-bs-toggle="tab" href="#subStep3" role="tab" aria-selected="false"><span class="hidden-sm-up"></span>
                <span class="hidden-xs-down" id="spnSubStep3">Legalization</span></a>
            </li>
            <li class="nav-item" style="background-color: #2c3136; color: #ffffff;">
              <a class="nav-link" data-bs-toggle="tab" href="#subStep4" role="tab" aria-selected="false"><span class="hidden-sm-up"></span>
                <span class="hidden-xs-down" id="spnSubStep4">Sample Collection</span></a>
            </li>
            <li class="nav-item" style="background-color: #2c3136; color: #ffffff;">
              <a class="nav-link" data-bs-toggle="tab" href="#subStep5" role="tab" aria-selected="false"><span class="hidden-sm-up"></span>
                <span class="hidden-xs-down" id="spnSubStep5">Sample Quality</span></a>
            </li>
          </ul>
          <div class="tab-content tabcontent-border">
            <div class="tab-pane active" id="subStep1" role="tabpanel">
              
              <div class="accordion" id="accordionExample1">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample1headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" id="btnLicenseManufacturer" onclick="loadLicenseManufacture()">
                      License of Manufacturer
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="accordionExample1headingOne" data-bs-parent="#accordionExample1">
                    <div class="accordion-body">
                      <div class="col-12" id="divLicenseManufacture" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample1headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" id="btnPP" onclick="loadPP()">
                      PP
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="accordionExample1headingTwo" data-bs-parent="#accordionExample1">
                    <div class="accordion-body">
                      <div class="col-12" id="divPP" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample1headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" id="btnFSC" onclick="loadFSC()">
                      FSC
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="accordionExample1headingThree" data-bs-parent="#accordionExample1">
                    <div class="accordion-body">
                      <div class="col-12" id="divFSC" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample1headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour" id="btnGMP" onclick="loadGMP()">
                      GMP
                    </button>
                  </h2>
                  <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="accordionExample1headingFour" data-bs-parent="#accordionExample1">
                    <div class="accordion-body">
                      <div class="col-12" id="divGMP" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample1headingFive">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive" id="btnCoPP" onclick="loadCoPP()">
                      CoPP
                    </button>
                  </h2>
                  <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="accordionExample1headingFive" data-bs-parent="#accordionExample1">
                    <div class="accordion-body">
                      <div class="col-12" id="divCoPP" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample1headingSix">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix" id="btnCMA" onclick="loadCMA()">
                      CMA
                    </button>
                  </h2>
                  <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="accordionExample1headingSix" data-bs-parent="#accordionExample1">
                    <div class="accordion-body">
                      <div class="col-12" id="divCMA" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane" id="subStep2" role="tabpanel">
              
              <div class="accordion" id="accordionExample2">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample2headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" id="btnCertificateAnalysis" onclick="loadCertificateAnalysis()">
                      Certificate of Analysis
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="accordionExample2headingOne" data-bs-parent="#accordionExample2">
                    <div class="accordion-body">
                      <div class="col-12" id="divCertificateAnalysis" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample2headingTwo">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" id="btnQNQFormula" onclick="loadQnQFormula()">
                      QNQ Formula
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="accordionExample2headingTwo" data-bs-parent="#accordionExample2">
                    <div class="accordion-body">
                      <div class="col-12" id="divQnQFormula" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample2headingThree">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree" id="btnMisc" onclick="loadMisc()">
                      Misc
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse show" aria-labelledby="accordionExample2headingThree" data-bs-parent="#accordionExample2">
                    <div class="accordion-body">
                      <div class="col-12" id="divMisc" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div class="tab-pane" id="subStep3" role="tabpanel">
              
              <div class="accordion" id="accordionExample3">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample3headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" id="btnSubmission" onclick="loadSubmission()">
                      Submission
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="accordionExample3headingOne" data-bs-parent="#accordionExample3">
                    <div class="accordion-body">
                      <div class="col-12" id="divSubmission" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample3headingTwo">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" id="btnReceipt" onclick="loadReceipt()">
                      Receipt
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="accordionExample3headingTwo" data-bs-parent="#accordionExample3">
                    <div class="accordion-body">
                      <div class="col-12" id="divReceipt" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div class="tab-pane" id="subStep4" role="tabpanel">
              
              <div class="accordion" id="accordionExample4">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample4headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" id="btnWorkingStandard" onclick="loadWorkingStandard()">
                      Working Standard
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="accordionExample4headingOne" data-bs-parent="#accordionExample4">
                    <div class="accordion-body">
                      <div class="col-12" id="divWorkingStandard" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample4headingTwo">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" id="btnFinishedProduct" onclick="loadFinishedProduct()">
                      Finished Product
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="accordionExample4headingTwo" data-bs-parent="#accordionExample4">
                    <div class="accordion-body">
                      <div class="col-12" id="divFinishedProduct" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div class="tab-pane" id="subStep5" role="tabpanel">
              
              <div class="accordion" id="accordionExample5">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample5headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" id="btnPhysicalChecks" onclick="loadPhysicalChecks()">
                      Physical Checks
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="accordionExample5headingOne" data-bs-parent="#accordionExample5">
                    <div class="accordion-body">
                      <div class="col-12" id="divPhysicalChecks" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="accordionExample5headingTwo">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" id="btnLabTests" onclick="loadLabTest()">
                      Lab Tests
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="accordionExample5headingTwo" data-bs-parent="#accordionExample5">
                    <div class="accordion-body">
                      <div class="col-12" id="divLabTest" style="height: 200px; overflow: scroll;">
                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <div class="border-top">
            <div class="card-body text-center">
                <button type="button" onclick="loadSubPageContent('product-assign-details.html')" id="btnBack" name="btnBack" class="btn btn-dark">
                    <i class="fas fa-arrow-circle-left"></i>&nbsp;Back
                </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  var loginId = 0, productId = 0;
  $(document).ready(function(){
    loginId = sessionStorage.getItem("document_sample_collection_assigned_to");
    productId = sessionStorage.getItem("product_details_product_id");
    loadProductProgress();
  });

  function loadProductProgress(){
    let productProgressResult = getProductProgress();
    // console.log(productProgressResult);
    jsonProductProgressData = JSON.parse(productProgressResult);
    // console.log(jsonProductProgressData);
    if(jsonProductProgressData.length > 0){
      for(i=0; i<jsonProductProgressData.length; i++){
        var counter = jsonProductProgressData[i];
        // console.log(counter.define_product);
        // console.log(counter.data_capture);

        $("#spnSubStep1").html("<b>Documentation Collection ("+counter.doc_collection.toFixed(2)+"%)</b>");
        $("#spnSubStep2").html("<b>Documentation Validation ("+counter.doc_validation.toFixed(2)+"%)</b>");
        $("#spnSubStep3").html("<b>Legalization ("+counter.legalization.toFixed(2)+"%)</b>");
        $("#spnSubStep4").html("<b>Sample Collection ("+counter.sample_collection.toFixed(2)+"%)</b>");
        $("#spnSubStep5").html("<b>Sample Quality ("+counter.sample_quality.toFixed(2)+"%)</b>");

        $("#btnLicenseManufacturer").html("<b>License of Manufacturer ("+counter.license_manufacture.toFixed(2)+"%)</b>");
        $("#btnPP").html("<b>PP ("+counter.pp.toFixed(2)+"%)</b>");
        $("#btnFSC").html("<b>FSC ("+counter.fsc.toFixed(2)+"%)</b>");
        $("#btnGMP").html("<b>GMP ("+counter.gmp.toFixed(2)+"%)</b>");
        $("#btnCoPP").html("<b>CoPP ("+counter.copp.toFixed(2)+"%)</b>");
        $("#btnCMA").html("<b>CMA ("+counter.cma.toFixed(2)+"%)</b>");
        
        $("#btnCertificateAnalysis").html("<b>Certificate Analysis ("+counter.certificate_analysis.toFixed(2)+"%)</b>");
        $("#btnQNQFormula").html("<b>QNQ Formula ("+counter.qnq_formula.toFixed(2)+"%)</b>");
        $("#btnMisc").html("<b>Misc ("+counter.misc.toFixed(2)+"%)</b>");
        
        $("#btnSubmission").html("<b>Submission ("+counter.submission.toFixed(2)+"%)</b>");
        $("#btnReceipt").html("<b>Receipt ("+counter.receipt.toFixed(2)+"%)</b>");
        
        $("#btnWorkingStandard").html("<b>Working Standard ("+counter.work_standard.toFixed(2)+"%)</b>");
        $("#btnFinishedProduct").html("<b>Finished Product ("+counter.finish_product.toFixed(2)+"%)</b>");
        
        $("#btnPhysicalChecks").html("<b>Physical Checks ("+counter.physical_check.toFixed(2)+"%)</b>");
        $("#btnLabTests").html("<b>Lab Tests ("+counter.lab_test.toFixed(2)+"%)</b>");
      }
    }

    loadLicenseManufacture();
  }

  function getProductProgress() {
    return callAPIService("get_data_sample_collection_stats.php","user_id="+loginId+"&product_id="+productId+"&menu_id="+DOCUMENT_SAMPLE_COLLECTION_MENU_ID);
  }

  function loadLicenseManufacture(){
        let licenseManufactureResult = getLicenseManufacture();
        // console.log(licenseManufactureResult);
        var jsonLicenseManufactureData = JSON.parse(licenseManufactureResult);
        var licenseManufactureTbody = "";
        if(jsonLicenseManufactureData.length > 0){
            for(i=0; i<jsonLicenseManufactureData.length; i++){
                var counter = jsonLicenseManufactureData[i];
                var fileTypeIcon = "fas fa-file-pdf fa-lg text-danger";
                licenseManufactureTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.manufacture_name+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+
                                                (counter.file_url != "" ?
                                                ("<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFileByURL('"+counter.file_url+"')\" class=\""+fileTypeIcon+"\"></i>"):"")+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this license manufacture details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteLicenseManufacture('product_license_manufacture','lm_id',"+counter.lm_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            licenseManufactureTbody += "<tr>"+
                            "<td colspan=\"7\" align=\"center\">No license manufacture details found.</td>"
                        "</tr>";
        }
        $("#divLicenseManufacture").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"licenseManufactureTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Manufacture Name</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>License File</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    licenseManufactureTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getLicenseManufacture(){
      return callAPIService("get_product_license_manufacture.php","login_id="+loginId+"&product_id="+productId+"&lm_id=0");
    }

  function loadPP(){
        let pPResult = getPP();
        // console.log(pPResult);
        var jsonPPData = JSON.parse(pPResult);
        var pPTbody = "";
        if(jsonPPData.length > 0){
            for(i=0; i<jsonPPData.length; i++){
                var counter = jsonPPData[i];
                pPTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.strength+"</td>"+
                                            "<td align=\"center\">"+counter.composition+"</td>"+
                                            "<td align=\"center\">"+counter.pharmacopeia_type+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+
                                                (counter.pp != "" ? 
                                                ("<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.pp_id+"','pp')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"):"")+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this pp details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deletePP('product_pp','pp_id',"+counter.pp_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            pPTbody += "<tr>"+
                            "<td colspan=\"9\" align=\"center\">No pp details found.</td>"
                        "</tr>";
        }
        $("#divPP").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"pPTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Strength</th>"+
                                        "<th>Composition</th>"+
                                        "<th>Pharmacopeia Type</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>PP File</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    pPTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getPP(){
      return callAPIService("get_product_pp.php","login_id="+loginId+"&product_id="+productId+"&pp_id=0");
    }

  function loadFSC(){
        let fSCResult = getFSC();
        // console.log(fSCResult);
        var jsonFSCData = JSON.parse(fSCResult);
        var fSCTbody = "";
        if(jsonFSCData.length > 0){
            for(i=0; i<jsonFSCData.length; i++){
                var counter = jsonFSCData[i];
                fSCTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.composition+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+
                                                "<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.fsc_id+"','fsc')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this fsc details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteFSC('product_fsc','fsc_id',"+counter.fsc_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            fSCTbody += "<tr>"+
                            "<td colspan=\"7\" align=\"center\">No fsc details found.</td>"
                        "</tr>";
        }
        $("#divFSC").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"fSCTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Composition</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>FSC File</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    fSCTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getFSC(){
      return callAPIService("get_product_fsc.php","login_id="+loginId+"&product_id="+productId+"&fsc_id=0");
    }

  function loadGMP(){
        let gMPResult = getGMP();
        // console.log(gMPResult);
        var jsonGMPData = JSON.parse(gMPResult);
        var gMPTbody = "";
        if(jsonGMPData.length > 0){
            for(i=0; i<jsonGMPData.length; i++){
                var counter = jsonGMPData[i];
                gMPTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+
                                                "<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.gmp_id+"','gmp')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this gmp details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteGMP('product_gmp','gmp_id',"+counter.gmp_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            gMPTbody += "<tr>"+
                            "<td colspan=\"6\" align=\"center\">No gmp details found.</td>"
                        "</tr>";
        }
        $("#divGMP").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"gMPTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>GMP File</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    gMPTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getGMP(){
      return callAPIService("get_product_gmp.php","login_id="+loginId+"&product_id="+productId+"&gmp_id=0");
    }

  function loadCoPP(){
        let coPPResult = getCoPP();
        // console.log(coPPResult);
        var jsonCoPPData = JSON.parse(coPPResult);
        var coPPTbody = "";
        if(jsonCoPPData.length > 0){
            for(i=0; i<jsonCoPPData.length; i++){
                var counter = jsonCoPPData[i];
                coPPTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+
                                                "<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.copp_id+"','copp')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this copp details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteCoPP('product_copp','copp_id',"+counter.copp_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            coPPTbody += "<tr>"+
                            "<td colspan=\"6\" align=\"center\">No copp details found.</td>"
                        "</tr>";
        }
        $("#divCoPP").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"coPPTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>CoPP File</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    coPPTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getCoPP(){
      return callAPIService("get_product_copp.php","login_id="+loginId+"&product_id="+productId+"&copp_id=0");
    }

  function loadCMA(){
        let cMAResult = getCMA();
        // console.log(cMAResult);
        var jsonCMAData = JSON.parse(cMAResult);
        var cMATbody = "";
        if(jsonCMAData.length > 0){
            for(i=0; i<jsonCMAData.length; i++){
                var counter = jsonCMAData[i];
                cMATbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+
                                                "<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.cma_id+"','cma')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this cma details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteCMA('product_cma','cma_id',"+counter.cma_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            cMATbody += "<tr>"+
                            "<td colspan=\"6\" align=\"center\">No cma details found.</td>"
                        "</tr>";
        }
        $("#divCMA").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"cMATable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>CMA File</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    cMATbody+
                                "</tbody>"+
                            "</table>");
    }

    function getCMA(){
      return callAPIService("get_product_cma.php","login_id="+loginId+"&product_id="+productId+"&cma_id=0");
    }

  function loadCertificateAnalysis(){
        let certificateAnalysisResult = getCertificateAnalysis();
        // console.log(certificateAnalysisResult);
        var jsonCertificateAnalysisData = JSON.parse(certificateAnalysisResult);
        var certificateAnalysisTbody = "";
        if(jsonCertificateAnalysisData.length > 0){
            for(i=0; i<jsonCertificateAnalysisData.length; i++){
                var counter = jsonCertificateAnalysisData[i];
                certificateAnalysisTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.batch_details+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+
                                                "<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.ca_id+"','certificate_analysis')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this certificate analysis details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteCertificateAnalysis('product_certificate_analysis','ca_id',"+counter.ca_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            certificateAnalysisTbody += "<tr>"+
                            "<td colspan=\"6\" align=\"center\">No certificate analysis details found.</td>"
                        "</tr>";
        }
        $("#divCertificateAnalysis").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"certificateAnalysisTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Batch Details</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Certificate</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    certificateAnalysisTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getCertificateAnalysis(){
      return callAPIService("get_product_certificate_analysis.php","login_id="+loginId+"&product_id="+productId+"&ca_id=0");
    }

  function loadQnQFormula(){
        let qnQFormulaResult = getQnQFormula();
        // console.log(qnQFormulaResult);
        var jsonQnQFormulaData = JSON.parse(qnQFormulaResult);
        var qnQFormulaTbody = "";
        if(jsonQnQFormulaData.length > 0){
            for(i=0; i<jsonQnQFormulaData.length; i++){
                var counter = jsonQnQFormulaData[i];
                qnQFormulaTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.composition+"</td>"+
                                            "<td align=\"center\">"+counter.avg_weight+"</td>"+
                                            "<td align=\"center\">"+
                                                (counter.formula != "" ?
                                                ("<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.qnq_id+"','qnq_formula')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"):"")+
                                            "</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this qnq formula details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteQnQFormula('product_qnq_formula','qnq_id',"+counter.qnq_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            qnQFormulaTbody += "<tr>"+
                            "<td colspan=\"6\" align=\"center\">No qnq formula details found.</td>"
                        "</tr>";
        }
        $("#divQnQFormula").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"qnQFormulaTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Composition</th>"+
                                        "<th>Average Weight</th>"+
                                        "<th>Formula</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    qnQFormulaTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getQnQFormula(){
      return callAPIService("get_product_qnq_formula.php","login_id="+loginId+"&product_id="+productId+"&qnq_id=0");
    }

  function loadMisc(){
        let miscResult = getMisc();
        // console.log(miscResult);
        var jsonMiscData = JSON.parse(miscResult);
        var miscTbody = "";
        if(jsonMiscData.length > 0){
            for(i=0; i<jsonMiscData.length; i++){
                var counter = jsonMiscData[i];
                miscTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.pckg_specification+"</td>"+
                                            "<td align=\"center\">"+counter.warnings+"</td>"+
                                            "<td align=\"center\">"+
                                                (counter.manual != "" ?
                                                ("<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.misc_id+"','misc')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"):"")+
                                            "</td>"+
                                            "<td align=\"center\">"+counter.remarks+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this misc details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteMisc('product_misc','misc_id',"+counter.misc_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            miscTbody += "<tr>"+
                            "<td colspan=\"7\" align=\"center\">No misc details found.</td>"
                        "</tr>";
        }
        $("#divMisc").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"miscTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Packaging Specification</th>"+
                                        "<th>Warnings</th></th>"+
                                        "<th>Manual</th>"+
                                        "<th>Remarks</th></th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    miscTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getMisc(){
      return callAPIService("get_product_misc.php","login_id="+loginId+"&product_id="+productId+"&misc_id=0");
    }

  function loadSubmission(){
        let submissionResult = getSubmission();
        // console.log(submissionResult);
        var jsonSubmissionData = JSON.parse(submissionResult);
        var submissionTbody = "";
        if(jsonSubmissionData.length > 0){
            for(i=0; i<jsonSubmissionData.length; i++){
                var counter = jsonSubmissionData[i];
                submissionTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.gmp+"</td>"+
                                            "<td align=\"center\">"+counter.fsc+"</td>"+
                                            "<td align=\"center\">"+counter.copp+"</td>"+
                                            "<td align=\"center\">"+counter.pp+"</td>"+
                                            "<td align=\"center\">"+counter.license_manufacture+"</td>"+
                                            "<td align=\"center\">"+counter.cma+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this submission details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteSubmission('product_legal_submission','ls_id',"+counter.ls_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            submissionTbody += "<tr>"+
                            "<td colspan=\"9\" align=\"center\">No submission details found.</td>"
                        "</tr>";
        }
        $("#divSubmission").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"submissionTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>GMP</th>"+
                                        "<th>FSC</th>"+
                                        "<th>CoPP</th>"+
                                        "<th>PP</th>"+
                                        "<th>License of Manufacturing</th>"+
                                        "<th>CMA</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    submissionTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getSubmission(){
      return callAPIService("get_product_legal_submission.php","login_id="+loginId+"&product_id="+productId+"&ls_id=0");
    }

  function loadReceipt(){
        let receiptResult = getReceipt();
        // console.log(receiptResult);
        var jsonReceiptData = JSON.parse(receiptResult);
        var receiptTbody = "";
        if(jsonReceiptData.length > 0){
            for(i=0; i<jsonReceiptData.length; i++){
                var counter = jsonReceiptData[i];
                receiptTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.gmp+"</td>"+
                                            "<td align=\"center\">"+counter.fsc+"</td>"+
                                            "<td align=\"center\">"+counter.copp+"</td>"+
                                            "<td align=\"center\">"+counter.pp+"</td>"+
                                            "<td align=\"center\">"+counter.license_manufacture+"</td>"+
                                            "<td align=\"center\">"+counter.cma+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this receipt details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteReceipt('product_legal_receipt','lr_id',"+counter.lr_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            receiptTbody += "<tr>"+
                            "<td colspan=\"9\" align=\"center\">No receipt details found.</td>"
                        "</tr>";
        }
        $("#divReceipt").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"receiptTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>GMP</th>"+
                                        "<th>FSC</th>"+
                                        "<th>CoPP</th>"+
                                        "<th>PP</th>"+
                                        "<th>License of Manufacturing</th>"+
                                        "<th>CMA</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    receiptTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getReceipt(){
      return callAPIService("get_product_legal_receipt.php","login_id="+loginId+"&product_id="+productId+"&lr_id=0");
    }

  function loadWorkingStandard(){
        let workingStandardResult = getWorkingStandard();
        // console.log(workingStandardResult);
        var jsonWorkingStandardData = JSON.parse(workingStandardResult);
        var workingStandardTbody = "";
        if(jsonWorkingStandardData.length > 0){
            for(i=0; i<jsonWorkingStandardData.length; i++){
                var counter = jsonWorkingStandardData[i];
                workingStandardTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.appearance+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+counter.remarks+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this working standard details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteWorkingStandard('product_work_standard','ws_id',"+counter.ws_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            workingStandardTbody += "<tr>"+
                            "<td colspan=\"7\" align=\"center\">No working standard details found.</td>"
                        "</tr>";
        }
        $("#divWorkingStandard").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"workingStandardTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Appearance</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>Remarks</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    workingStandardTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getWorkingStandard(){
      return callAPIService("get_product_work_standard.php","login_id="+loginId+"&product_id="+productId+"&ws_id=0");
    }

  function loadFinishedProduct(){
        let finishedProductResult = getFinishedProduct();
        // console.log(finishedProductResult);
        var jsonFinishedProductData = JSON.parse(finishedProductResult);
        var finishedProductTbody = "";
        if(jsonFinishedProductData.length > 0){
            for(i=0; i<jsonFinishedProductData.length; i++){
                var counter = jsonFinishedProductData[i];
                finishedProductTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.appearance+"</td>"+
                                            "<td align=\"center\">"+counter.validity+"</td>"+
                                            "<td align=\"center\">"+counter.received_date+"</td>"+
                                            "<td align=\"center\">"+counter.remarks+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this finished product details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteFinishedProduct('product_finish_product','fp_id',"+counter.fp_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            finishedProductTbody += "<tr>"+
                            "<td colspan=\"7\" align=\"center\">No finished product details found.</td>"
                        "</tr>";
        }
        $("#divFinishedProduct").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"finishedProductTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Appearance</th>"+
                                        "<th>Validity</th>"+
                                        "<th>Received Date</th>"+
                                        "<th>Remarks</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    finishedProductTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getFinishedProduct(){
      return callAPIService("get_product_finish_product.php","login_id="+loginId+"&product_id="+productId+"&fp_id=0");
    }

  function loadPhysicalChecks(){
        let physicalChecksResult = getPhysicalChecks();
        // console.log(physicalChecksResult);
        var jsonPhysicalChecksData = JSON.parse(physicalChecksResult);
        var physicalChecksTbody = "";
        if(jsonPhysicalChecksData.length > 0){
            for(i=0; i<jsonPhysicalChecksData.length; i++){
                var counter = jsonPhysicalChecksData[i];
                physicalChecksTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.appearance+"</td>"+
                                            "<td align=\"center\">"+counter.weight+"</td>"+
                                            "<td align=\"center\">"+counter.remarks+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this physical checks details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deletePhysicalChecks('product_physical_check','pc_id',"+counter.pc_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            physicalChecksTbody += "<tr>"+
                            "<td colspan=\"6\" align=\"center\">No finished product details found.</td>"
                        "</tr>";
        }
        $("#divPhysicalChecks").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"physicalChecksTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Appearance</th>"+
                                        "<th>Weight</th>"+
                                        "<th>Remarks</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    physicalChecksTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getPhysicalChecks(){
      return callAPIService("get_product_physical_check.php","login_id="+loginId+"&product_id="+productId+"&pc_id=0");
    }

  function loadLabTest(){
        let labTestResult = getLabTest();
        // console.log(labTestResult);
        var jsonLabTestData = JSON.parse(labTestResult);
        var labTestTbody = "";
        if(jsonLabTestData.length > 0){
            for(i=0; i<jsonLabTestData.length; i++){
                var counter = jsonLabTestData[i];
                labTestTbody += "<tr>"+
                                            "<td align=\"center\">"+(i+1)+"</td>"+
                                            "<td align=\"center\">"+counter.batch_no+"</td>"+
                                            "<td align=\"center\">"+counter.lab_name+"</td>"+
                                            "<td align=\"center\">"+counter.test_performed+"</td>"+
                                            "<td align=\"center\">"+counter.submitted_dt+"</td>"+
                                            "<td align=\"center\">"+counter.received_dt+"</td>"+
                                            "<td align=\"center\">"+counter.result+"</td>"+
                                            "<td align=\"center\">"+
                                                "<i style=\"cursor: pointer;\" title=\"Click here to download this file\" onclick=\"openFile('"+counter.lt_id+"','lab_test')\" class=\"fas fa-file-pdf fa-lg text-danger\"></i>"+
                                            "</td>"+
                                            "<td>"+counter.remarks+"</td>"+
                                            "<td>"+counter.ent_dt+"</td>"+
                                            "<td align=\"center\">"+
                                              "<span title=\"Click here to delete this physical checks details\" class=\"fas fa-trash fa-lg text-danger\" style=\"cursor:pointer;\" onclick=\"deleteLabTest('product_lab_test','lt_id',"+counter.lt_id+")\"></span>"+
                                            "</td>"+
                                        "</tr>";
            }
        }else{
            labTestTbody += "<tr>"+
                            "<td colspan=\"11\" align=\"center\">No lab test details found.</td>"
                        "</tr>";
        }
        $("#divLabTest").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"labTestTable\" width=\"100%\" cellspacing=\"0\">"+
                                "<thead>"+
                                    "<tr>"+
                                        "<th>Sr.No.</th>"+
                                        "<th>Batch No</th>"+
                                        "<th>Lab Name</th>"+
                                        "<th>Test Performed</th>"+
                                        "<th>Submitted to Lab Date</th>"+
                                        "<th>Received from Lab Date</th>"+
                                        "<th>Result</th>"+
                                        "<th>Lab Report</th>"+
                                        "<th>Remarks</th>"+
                                        "<th>Entry Date</th>"+
                                        "<th>Delete</th>"+
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>"+
                                    labTestTbody+
                                "</tbody>"+
                            "</table>");
    }

    function getLabTest(){
      return callAPIService("get_product_lab_test.php","login_id="+loginId+"&product_id="+productId+"&lt_id=0");
    }
    
    function openFileByURL(url){
        downloadFileByURL(url);
    }

  function openFile(id,menu){
    var tbl="",col="",col1="",format="";
    switch(menu){
      case 'license_manufacture':
        tbl = "product_license_manufacture";
        col = "license";
        col1 = "lm_id";
        format = "pdf";
        break;
      case 'pp':
        tbl = "product_pp";
        col = "pp";
        col1 = "pp_id";
        format = "pdf";
        break;
      case 'fsc':
        tbl = "product_fsc";
        col = "fsc";
        col1 = "fsc_id";
        format = "pdf";
        break;
      case 'gmp':
        tbl = "product_gmp";
        col = "gmp";
        col1 = "gmp_id";
        format = "pdf";
        break;
      case 'copp':
        tbl = "product_copp";
        col = "copp";
        col1 = "copp_id";
        format = "pdf";
        break;
      case 'cma':
        tbl = "product_cma";
        col = "cma";
        col1 = "cma_id";
        format = "pdf";
        break;
      case 'certificate_analysis':
        tbl = "product_certificate_analysis";
        col = "certificate";
        col1 = "ca_id";
        format = "pdf";
        break;
      case 'qnq_formula':
        tbl = "product_qnq_formula";
        col = "formula";
        col1 = "qnq_id";
        format = "pdf";
        break;
      case 'misc':
        tbl = "product_misc";
        col = "manual";
        col1 = "misc_id";
        format = "pdf";
        break;
      case 'lab_test':
        tbl = "product_lab_test";
        col = "lab_report";
        col1 = "lt_id";
        format = "pdf";
        break;  
    }
    downloadFile(tbl,col,col1,id,format);
  }

  function deleteLicenseManufacture(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadLicenseManufacture();
    }
  }

  function deletePP(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadPP();
    }
  }

  function deleteFSC(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadFSC();
    }
  }

  function deleteGMP(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadGMP();
    }
  }

  function deleteCoPP(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadCoPP();
    }
  }

  function deleteCMA(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadCMA();
    }
  }

  function deleteCertificateAnalysis(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadCertificateAnalysis();
    }
  }

  function deleteQnQFormula(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadQnQFormula();
    }
  }

  function deleteMisc(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadMisc();
    }
  }

  function deleteSubmission(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadSubmission();
    }
  }

  function deleteReceipt(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadReceipt();
    }
  }

  function deleteWorkingStandard(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadWorkingStandard();
    }
  }

  function deleteFinishedProduct(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadFinishedProduct();
    }
  }

  function deletePhysicalChecks(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadPhysicalChecks();
    }
  }

  function deleteLabTest(tblNm,colId,colVal){
    var response = deleteExecutiveEntry(tblNm,colId,colVal);
    if(response == 1){
      loadLabTest();
    }
  }
</script>
