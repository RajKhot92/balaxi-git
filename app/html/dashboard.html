<div class="page-wrapper">
  <!-- ============================================================== -->
  <!-- Bread crumb and right sidebar toggle -->
  <!-- ============================================================== -->
  <div class="page-breadcrumb">
    <div class="row">
      <div class="col-12 d-flex no-block align-items-center">
        <h4 class="page-title">Dashboard</h4>
        <div class="ms-auto text-end">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active" aria-current="page">
                Dashboard
              </li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <!-- ============================================================== -->
  <!-- End Bread crumb and right sidebar toggle -->
  <!-- ============================================================== -->
  <!-- ============================================================== -->
  <!-- Container fluid  -->
  <!-- ============================================================== -->
  <div class="container-fluid">
    <!-- ============================================================== -->
    <!-- Sales Cards  -->
    <!-- ============================================================== -->
    <!-- <div class="row">
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-cyan text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-view-dashboard"></i>
            </h1>
            <h6 class="text-white">Dashboard</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-success text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-chart-areaspline"></i>
            </h1>
            <h6 class="text-white">Charts</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-warning text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-collage"></i>
            </h1>
            <h6 class="text-white">Widgets</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-danger text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-border-outside"></i>
            </h1>
            <h6 class="text-white">Tables</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-info text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-arrow-all"></i>
            </h1>
            <h6 class="text-white">Full Width</h6>
          </div>
        </div>
      </div>
      Column
      <div class="col-md-6 col-lg-4 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-danger text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-receipt"></i>
            </h1>
            <h6 class="text-white">Forms</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-info text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-relative-scale"></i>
            </h1>
            <h6 class="text-white">Buttons</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-cyan text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-pencil"></i>
            </h1>
            <h6 class="text-white">Elements</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-success text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-calendar-check"></i>
            </h1>
            <h6 class="text-white">Calnedar</h6>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-2 col-xlg-3">
        <div class="card card-hover">
          <div class="box bg-warning text-center">
            <h1 class="font-light text-white">
              <i class="mdi mdi-alert"></i>
            </h1>
            <h6 class="text-white">Errors</h6>
          </div>
        </div>
      </div>
    </div> -->
    <!-- ============================================================== -->
    <!-- Sales chart -->
    <!-- ============================================================== -->
    <div class="row">
      <div class="col-lg-7 col-md-7 col-sm-12">
        <div class="row">
          <div class="col-6">
            <div class="bg-dark p-15 text-white text-center">
              <i class="fas fa-share fs-3 mb-1 font-16"></i>
              <h5 class="mb-1 mt-1">45</h5>
              <small class="font-light">Product Assigned</small>
            </div>
          </div>
          <div class="col-6">
            <div class="bg-dark p-15 text-white text-center">
              <i class="fas fa-check-circle fs-3 font-16"></i>
              <h5 class="mb-1 mt-1">87</h5>
              <small class="font-light">Work Completed</small>
            </div>
          </div>
          <div class="col-6 mt-4">
            <div class="bg-dark p-15 text-white text-center">
              <i class="fas fa-hourglass-half fs-3 mb-1 font-16"></i>
              <h5 class="mb-1 mt-1">5</h5>
              <small class="font-light">Delayed Products</small>
            </div>
          </div>
          <div class="col-6 mt-4">
            <div class="bg-dark p-15 text-white text-center">
              <i class="fas fa-handshake fs-3 mb-1 font-16"></i>
              <h5 class="mb-1 mt-1">189</h5>
              <small class="font-light">Owned Products</small>
            </div>
          </div>
          <!-- <div class="col-6 mt-3">
            <div class="bg-dark p-10 text-white text-center">
              <i class="mdi mdi-table fs-3 mb-1 font-16"></i>
              <h5 class="mb-0 mt-1">100</h5>
              <small class="font-light">Pending Orders</small>
            </div>
          </div>
          <div class="col-6 mt-3">
            <div class="bg-dark p-10 text-white text-center">
              <i class="mdi mdi-web fs-3 mb-1 font-16"></i>
              <h5 class="mb-0 mt-1">8540</h5>
              <small class="font-light">Online Orders</small>
            </div>
          </div> -->
        </div>
      </div>
      <div class="col-lg-5 col-md-5 col-sm-12">
        <div class="row">
          <div class="col">
            <div class="card">
              <div class="card-body"> 
                <!-- <h5 class="card-title">Pie Chart</h5> -->
                <!-- <div id="pieChart" style="height: 400px"></div> -->
                <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-7">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title mb-0">Status</h5>
          </div>
          <div id="divAssignedMenu">
            
          </div>
          <!-- <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Product</th>
                <th scope="col">Country</th>
                <th scope="col">Step</th>
                <th scope="col">Owner</th>
                <th scope="col">Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>Dolo 20mg</td>
                <td>Japan</td>
                <td>3</td>
                <td>Supraja</td>
                <td>65.00%</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Coviheal</td>
                <td>Brazil</td>
                <td>2</td>
                <td>Raj</td>
                <td>28.00%</td>
              </tr>
            </tbody>
          </table> -->
        </div>
      </div>
    </div>
    <!-- ============================================================== -->
    <!-- Recent comment and chats -->
    <!-- ============================================================== -->
  </div>
  <!-- ============================================================== -->
  <!-- End Container fluid  -->
  <!-- ============================================================== -->
  <!-- ============================================================== -->
  <!-- footer -->
  <!-- ============================================================== -->
  <!-- ============================================================== -->
  <!-- End footer -->
  <!-- ============================================================== -->
</div>
<script src="../dist/js/pages/chart/Chart.js"></script>
<!-- <script src="../assets/extra-libs/sparkline/sparkline.js"></script>
<script src="../dist/js/pages/chart/chart-page-init.js"></script>
<script src="../assets/libs/chart/jquery.flot.pie.min.js"></script>
<script src="../assets/libs/chart/jquery.peity.min.js"></script>
<script src="../assets/libs/chart/matrix.charts.js"></script>
<script src="../assets/libs/chart/jquery.flot.pie.min.js"></script>
<script src="../assets/libs/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
<script src="../assets/libs/chart/turning-series.js"></script>
<script src="../dist/js/pages/chart/chart-page-init.js"></script> -->
<script type="text/javascript">
  $(document).ready(function(){
    loadAssignedMenus();
    // let apiResponse = callAPIService("save_country.php", $("#frmCountry").serialize());
    // if(apiResponse != "1"){
    //   alert(apiResponse);
    // }else{
    //   alert("Country saved successfully.");
    // }

    // window.onload = function() {

    // var chart = new CanvasJS.Chart("chartContainer", {
    //   animationEnabled: true,
    //   title: {
    //     text: "Desktop Search Engine Market Share - 2016"
    //   },
    //   data: [{
    //     type: "pie",
    //     startAngle: 240,
    //     yValueFormatString: "##0.00\"%\"",
    //     indexLabel: "{label} {y}",
    //     dataPoints: [
    //       {y: 79.45, label: "Google"},
    //       {y: 7.31, label: "Bing"},
    //       {y: 7.06, label: "Baidu"},
    //       {y: 4.91, label: "Yahoo"},
    //       {y: 1.26, label: "Others"}
    //     ]
    //   }]
    // });
    // chart.render();

    // }

    // google.charts.load('current', {'packages':['corechart']});
    // google.charts.setOnLoadCallback(drawChart);

    var xValues = ["Not Started", "In Progress", "Complete", "Cancelled", "On Hold"];
    var yValues = [21, 6, 8, 13, 9];
    var barColors = [
      "#631e4b",
      "#852564",
      "#c24f9a",
      "#cf7ab1",
      "#f5a4d8"
    ];

    new Chart("myChart", {
      type: "pie",
      data: {
        labels: xValues,
        datasets: [{
          backgroundColor: barColors,
          data: yValues
        }]
      },
      options: {
        title: {
          display: false,
          text: "Analysis"
        },
        legend: {
         display: false
        }
      }
    });
  });

  // Draw the chart and set the chart values
  // function drawChart() {
  //   var data = google.visualization.arrayToDataTable([
  //     ['Task', 'Hours per Day'],
  //     ['Work', 8],
  //     ['Eat', 2],
  //     ['TV', 4],
  //     ['Gym', 2],
  //     ['Sleep', 8]
  //   ]);

  //   // Optional; add a title and set the width and height of the chart
  //   var options = {'title':'My Average Day', 'width':550, 'height':400};

  //   // Display the chart inside the <div> element with id="piechart"
  //   var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  //   chart.draw(data, options);
  // }
  function loadAssignedMenus(){
    let menuResult = getAssignedMenus();
    // console.log(menuResult);
    var jsonMenuData = JSON.parse(menuResult);
    var menuTbody = "";
    if(jsonMenuData.length > 0){
        for(i=0; i<jsonMenuData.length; i++){
            var counter = jsonMenuData[i];
            menuTbody += "<tr>"+
                            "<td align=\"center\">"+(i+1)+"</td>"+
                            "<td>"+counter.product_name+"</td>"+
                            "<td>"+counter.country_name+"</td>"+
                            "<td>"+counter.user_name+"</td>"+
                            "<td>"+counter.menu_name+"</td>"+
                        "</tr>";
        }
    }else{
        menuTbody += "<tr>"+
                        "<td colspan=\"5\" align=\"center\">No any steps assigned.</td>"
                    "</tr>";
    }
    $("#divAssignedMenu").html("<table class=\"table table-sm table-striped table-hover table-bordered\" id=\"menuTable\" width=\"100%\" cellspacing=\"0\">"+
                            "<thead>"+
                                "<tr>"+
                                    "<th>Sr.No.</th>"+
                                    "<th>Product</th>"+
                                    "<th>Country</th>"+
                                    "<th>Product Owner</th>"+
                                    "<th>Assigned Step</th>"+
                                "</tr>"+
                            "</thead>"+
                            "<tbody>"+
                                menuTbody+
                            "</tbody>"+
                        "</table>");
  }

  function getAssignedMenus() {
    return callAPIService("get_assigned_step.php","login_id="+localStorage.getItem("balaxi_user_id"));
  }
</script>
